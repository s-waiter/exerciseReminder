# 运动结束图表展示界面优化 (2026-01-31)

## 1. 需求分析
- **背景**：目前运动结束后的图表展示界面（Feedback Layer）默认展示 3 秒后自动关闭，用户反馈时间太短可能看不清。
- **目标**：优化展示逻辑，增加交互性。
- **具体需求**：
    1.  当鼠标移入图表展示界面时，暂停 3 秒倒计时。
    2.  鼠标移入时显示“暂停”特效（悬浮效果）。
    3.  鼠标移出时恢复倒计时。

## 2. 实现方案
在 `assets/qml/OverlayWindow.qml` 中进行了以下修改：

1.  **移除旧定时器**：
    - 删除了原本单纯的 `closeTimer` (Timer)，不再使用固定定时器控制关闭。

2.  **实现悬停检测**：
    - 在 `feedbackLayer` 中添加了全屏的 `MouseArea` (`feedbackMouseArea`)，开启 `hoverEnabled: true` 以检测鼠标悬停状态。

3.  **倒计时逻辑重构**：
    - 将倒计时逻辑合并到进度条的动画 (`NumberAnimation`) 中。
    - 绑定 `paused` 属性到 `feedbackMouseArea.containsMouse`，实现悬停即暂停动画。
    - 使用 `onFinished` 信号触发 `overlayWin.reminderFinished()`，确保视觉进度条走完才关闭窗口。

4.  **视觉交互特效**：
    - **卡片悬浮**：当鼠标悬停时，核心内容卡片 (`resultCard`) 放大至 1.05 倍，营造悬浮感。
    - **文字提示**：进度条上方的文字在悬停时由 "正在恢复工作模式..." 变为 "已暂停 (移开鼠标继续)"，明确告知用户当前状态。

## 3. 修改文件
- `src/gui/OverlayWindow.qml` (实际路径: `assets/qml/OverlayWindow.qml`)

## 4. 验证结果
- 用户点击“完成运动”后，图表界面弹出，倒计时开始。
- 若用户将鼠标移入界面，进度条停止缩减，卡片微微放大，提示文字变更。
- 用户可以从容查看数据。
- 移开鼠标后，倒计时继续，结束后自动关闭。
