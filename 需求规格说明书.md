# 久坐提醒助手 - 需求规格说明书 (SRS)

## 1. 引言

### 1.1 编写目的
本文档旨在详细描述“久坐提醒助手”软件的功能需求、非功能需求及用户交互设计，为后续的软件设计、开发和测试提供依据。

### 1.2 项目背景
在现代办公环境中，许多职业（如程序员、前台、银行柜员等）需要长时间保持坐姿。长期久坐会对身体健康造成负面影响，如颈椎病、腰椎间盘突出、血液循环不畅等。为了帮助这些人群改善健康状况，本项目计划开发一款桌面应用程序，通过定时提醒的方式，强制或引导用户站立运动。

### 1.3 产品范围
本软件为一款运行在 Windows 平台的桌面应用程序，主要功能包括定时监测、全屏提醒、个性化设置及开机自启等。

---

## 2. 用户角色与特征

*   **主要用户**：长时间在电脑前工作的办公人员（程序员、文员、设计人员等）。
*   **用户特征**：
    *   工作专注，容易忘记时间。
    *   长期受久坐带来的亚健康困扰。
    *   需要强有力的外部提醒来打断工作状态。
    *   期望提醒方式不生硬，能带来短暂的心理放松。

---

## 3. 功能需求

### 3.1 核心提醒功能
*   **ID**: REQ-001
*   **名称**: 定时全屏提醒
*   **描述**: 当计时器达到设定时间时，软件必须弹出一个全屏窗口覆盖当前所有操作界面。
*   **验收标准**:
    *   提醒画面必须占据整个物理屏幕（包括任务栏）。
    *   在全屏提醒期间，用户应暂时无法操作其他软件（除非主动关闭/跳过提醒）。

### 3.2 提醒周期设置
*   **ID**: REQ-002
*   **名称**: 自定义时间间隔
*   **描述**: 用户可以根据自身需求调整提醒的频率。
*   **验收标准**:
    *   系统默认提醒间隔为 **45分钟**。
    *   提供设置界面，允许用户输入或选择间隔时间（例如：30分钟、45分钟、60分钟等）。
    *   设置保存后立即生效，计时器重新计算。

### 3.3 开机自动启动
*   **ID**: REQ-003
*   **名称**: 开机自启
*   **描述**: 为了防止用户忘记打开软件，程序需支持开机自动运行。
*   **验收标准**:
    *   程序安装/首次运行时，默认或引导用户开启“开机自启”功能。
    *   设置界面提供“开机自动启动”的开关选项。
    *   自启后程序应最小化至系统托盘，不干扰用户即时工作。

### 3.4 提醒内容体验
*   **ID**: REQ-004
*   **名称**: 愉悦放松的视觉反馈
*   **描述**: 提醒画面应避免枯燥的文字警告，采用能让人放松的视觉元素。
*   **验收标准**:
    *   展示精美的背景图片（如自然风景、治愈系插画）或舒缓的动态背景。
    *   界面色调柔和，避免刺眼的高饱和度颜色。
    *   (可选) 配合播放轻柔的提示音或背景音乐，并提供静音按钮。

### 3.5 状态控制与系统托盘
*   **ID**: REQ-005
*   **名称**: 系统托盘管理
*   **描述**: 软件主要在后台运行，通过系统托盘图标进行管理。
*   **验收标准**:
    *   点击托盘图标可打开设置菜单或主界面。
    *   托盘菜单应包含：设置、暂停提醒（如开会模式）、退出程序等选项。
    *   鼠标悬停托盘图标时，可显示距离下次提醒的剩余时间。

### 3.6 午休助眠模式 (Nap Mode)
*   **ID**: REQ-006
*   **名称**: 午休助眠模式 (Nap Mode)
*   **描述**: 针对用户午休场景设计的专属模式，集成了助眠、隐私保护与自然唤醒功能，打造沉浸式的办公室休息体验。
*   **验收标准**:
    *   **入口便捷性与智能触发**: 
        *   在系统托盘菜单及主设置界面提供“开始午休”的一键入口。
        *   **(新增) 定时建议**: 允许用户设置“午休时间段”（如 12:30-13:30），在此期间若检测到系统空闲超过5分钟，自动弹窗询问“是否开启午休模式？”。
    *   **计时器逻辑**: 
        *   进入午休模式时，主久坐倒计时必须立即**暂停**。
        *   退出午休模式时，久坐倒计时自动恢复运行。
    *   **沉浸式助眠屏保**: 
        *   **极致暗黑**: 屏幕进入全屏“熄灯”状态，使用纯黑背景（#000000）以适配 OLED 屏幕省电特性，或极深灰（#121212）减少视觉刺激。
        *   **微光时钟**: 仅显示极简风格的数字时钟，亮度极低（透明度 30%），且位置每隔 5 分钟微调一次（防止烧屏）。
        *   **(新增) 环境白噪音**: 提供内置的离线白噪音选项（如：雨打窗棂、林间微风、壁炉柴火、图书馆静谧音），支持音量独立调节，帮助掩盖办公室杂音。
    *   **隐私与免打扰 (DND)**:
        *   **(新增) 社交屏障**: 模式开启后，界面上显示“正在午休 (Napping)”的优雅状态文字，充当电子“请勿打扰”牌。
        *   **(新增) 通知屏蔽**: 尝试调用系统 API 暂时屏蔽非紧急通知的弹窗与声音，确保休息不被打断。
    *   **自然唤醒体验 (Natural Wake-up)**:
        *   **日出模拟**: 在设定的闹钟时间到达前 2 分钟，屏幕背景由黑逐渐变亮（模拟日出光线色温），利用光线抑制褪黑素，实现生物学层面的自然唤醒。
        *   **渐进式音频**: 唤醒铃声（鸟鸣或轻柔旋律）音量从 0% 在 30 秒内线性渐变至设定值，避免“心脏骤停式”惊醒。
    *   **交互与防误触**:
        *   **长按退出**: 为防止午休时肢体无意触碰鼠标键盘导致屏幕亮起，退出操作设计为“长按鼠标左键 3 秒”或“按住 ESC 键 3 秒”，并配有圆环进度条反馈。

### 3.7 强制运动机制
*   **ID**: REQ-007
*   **名称**: 强制运动机制 (Forced Exercise Mode)
*   **描述**: 针对自制力较弱的用户，防止其在提醒触发后立即点击“完成”跳过运动。开启此功能后，用户必须在全屏提醒界面停留达到设定的时长后，才能关闭提醒。
*   **验收标准**:
    *   **设置入口**:
        *   在“偏好设置”弹窗中新增“强制运动”开关及时间设置项。
        *   **时间设定**: 允许设置范围为 **1至5分钟** (默认1分钟)，UI交互风格需与主界面的“间隔时长”设置保持一致（如滑动条或微调框）。
    *   **交互逻辑**:
        *   当全屏提醒弹出时，系统开始记录停留时间。
        *   若停留时间 < 设定的强制运动时间，点击“完成运动”或尝试关闭窗口无效。
    *   **反馈提示**:
        *   用户尝试提前关闭时，需弹出提示：“已开启强制运动模式 (设定时长: X分钟)，请坚持运动后再回来！”，并动态显示“距离达标还需 XX 秒”。

### 3.8 时光足迹
*   **ID**: REQ-008
*   **名称**: 时光足迹 (Time Footprints)
*   **描述**: 自动记录用户一天的活动状态变更（工作、休息、暂停、午休等），并提供可视化的时间轴与统计数据，帮助用户直观了解时间消耗、专注度及工作效率。
*   **验收标准**:
    *   **自动状态记录**:
        *   系统需后台自动记录每一次状态变更的时间戳及持续时长。
        *   支持的状态类型包括：
            *   **专注工作 (Focus)**: 倒计时运行期间。
            *   **运动休息 (Rest)**: 全屏提醒/强制运动期间。
            *   **暂停 (Paused)**: 用户手动暂停提醒期间。
            *   **午休 (Nap)**: 开启午休模式期间。
            *   **离线/未知 (Offline)**: 软件关闭或系统休眠期间。
    *   **每日活动轨迹 (Daily Timeline)**:
        *   提供一个可视化的时间轴视图（如甘特图或彩色进度条），横轴为时间（00:00 - 24:00）。
        *   使用不同颜色区分不同状态段（例如：蓝色-工作，绿色-运动，灰色-暂停，紫色-午休）。
        *   鼠标悬停在特定时间段上时，显示具体的时间范围和状态详情（如“09:00 - 09:45 专注工作”）。
    *   **效率统计面板 (Productivity Dashboard)**:
        *   **核心指标卡片**: 展示“今日专注总时长”、“今日运动总次数”、“平均专注时长”、“最长连续专注时长”。
        *   **时间分布图**: 以饼图或环形图展示各类活动（工作/休息/暂停）的时间占比。
    *   **数据持久化与隐私**:
        *   所有数据仅存储在本地（如 SQLite 或 JSON），不上传云端。
        *   支持查看历史日期（如昨天、上周）的数据记录。

### 3.9 智能工时日志与自动报表
*   **ID**: REQ-009
*   **名称**: 智能工时日志与自动报表 (Smart Work Log & Auto-Reporting)
*   **描述**: 基于“专注工作”的时间段数据，支持用户补充具体工作内容，并利用标签分类技术，自动生成多维度的日报、周报与月报，同时实现“自我复盘”与“向上汇报”的数据隔离。
*   **验收标准**:
    *   **交互逻辑升级 (双击事件分流)**:
        *   **原有逻辑**: 在时间轴背景区域双击 -> 执行“重置缩放/复位”操作。
        *   **新增逻辑**: 在**“专注工作 (Focus)”(蓝色色块)** 上双击 -> 弹出“工时内容录入”弹窗。
    *   **工时内容录入**:
        *   **弹窗设计**: 包含时间段显示（只读）、内容描述（多行文本框）、类型选择（单选/标签）。
        *   **类型分类**:
            *   🔵 **正式工作**: 用于公司项目、业务处理等（默认选中）。
            *   🟢 **学习成长**: 用于技术钻研、阅读文档等。
            *   🟡 **私人事务**: 用于处理个人杂事、摸鱼等。
        *   **数据关联**: 录入的内容需与该时间段的 ActivityID 强关联存储。
    *   **自动报表生成器**:
        *   **时间维度**: 支持一键生成“今日日报”、“本周周报”（周一至今日）、“本月月报”（1日至今日）。
        *   **视图模式 (隐私过滤器)**:
            *   **全景复盘模式 (给自己看)**: 包含所有类型（正式工作 + 学习成长 + 私人事务），真实还原时间去向，用于自我反思与效率分析。
            *   **职场汇报模式 (给领导看)**: **仅**提取“正式工作”类型的内容，自动聚合、排版，隐藏私人与学习记录，生成专业的汇报文本。
        *   **导出格式**: 支持复制到剪贴板（纯文本/Markdown）或导出为简单图片。


---

## 4. 非功能需求

### 4.1 用户体验 (UI/UX)
*   **情感化设计**: 界面风格需清新、简约，符合“放松身心”的主题。
*   **低干扰**: 在非提醒时间段，软件应完全隐形，不占用任务栏空间，仅保留托盘图标。
*   **操作便捷**: 关闭/跳过提醒的操作应简单直观，但为了达到提醒效果，可设置“稍后提醒”功能（如推迟5分钟）。

### 4.2 性能需求
*   **资源占用**: 软件作为常驻后台程序，内存和CPU占用率应极低，不影响主程序的运行。
*   **响应速度**: 全屏提醒的弹出应迅速，无明显延迟。

### 4.3 可靠性
*   **计时准确**: 计时器应在系统休眠/唤醒后自动校准，确保提醒间隔的有效性。

---

## 5. 界面概念描述

1.  **设置/主界面** (通常隐藏，点击托盘呼出):
    *   显示当前倒计时状态。
    *   “提醒间隔”调节滑块或输入框。
    *   “开机自启”复选框。
    *   “应用/保存”按钮。

2.  **全屏提醒界面**:
    *   背景：随机播放的高清风景图或舒缓动画。
    *   中心文案：温馨提示语（如“已经工作很久了，起来伸个懒腰吧~”）。
    *   操作按钮：
        *   “完成运动” (关闭提醒，重置计时)。
        *   “稍后提醒” (关闭提醒，5分钟后再次弹出)。
